<template>  <el-dialog    title="商品"    :modal-append-to-body="false"    :append-to-body="false"    :visible.sync="param.visible"  >    <div class="c_flex c_flex_between c_auto_y c_hidden" style="height: 300px;">      <el-table        class="c_h"        size="small"        height="250"        :highlight-current-row="true"        :data="param.detailData"        @row-click="projectTableClick"      >        <template v-for="(item, i) in param.detailList">          <el-table-column :key="i" :label="item.name" :prop="item.key"></el-table-column>        </template>      </el-table>    </div>    <span slot="footer" class="dialog-footer">        <el-button size="small" @click="close">取 消</el-button>        <el-button type="primary" size="small" @click="confirm">确 定</el-button>      </span>  </el-dialog></template><script>  export default {    name: "itemSelect",    data() {      return {        dataSource: {          resultList: [            // {  }          ],        },        api: '',        param: {          visible: false,          // -- 详情表格参数          detailList: [            { name: '商品编码', key: 'invcode', isUse: true },            { name: '商品名称', key: 'invname', isUse: true },          ],          // -- 详情表格数据          detailData: [],          // -- 选中tree 下部门数据          selectTableData: {}        },        queryData: {        }      }    },    methods: {      open(api, row) {        this.api = api        this.param.selectTableData = {}        this.getDataList()        this.param.visible = true      },      close() {        this.param.selectTableData = {}        this.param.visible = false      },      // 获取项目树 下部门      getDataList() {        let data = {          action: 'inv',          data: {            // pk_psndoc: this.skr          }        }        data.data = JSON.stringify(data.data)        this.$ajax.postform(this.api.invoiceServlet, data, res => {          if (res.success === 'Y') {            this.param.detailData = res.data || []          } else {            this.$message({ type: 'warn', message: res.message, duration: 1000 })          }        })      },      projectTableClick(row) {        let { pk_invbasdoc, invname } = row        this.param.selectTableData = { pk_invbasdoc, invname }      },      confirm() {        // if (!this.param.detailData.length) {        //   return this.$message({ message: '请完善用户银行账号信息', duration: 1000 })        // }        // if (!this.param.selectTableData.accountcode) {        //   return this.$message({ message: '请选择银行账号', duration: 1000 })        // }        this.$emit('confirm', this.param.selectTableData)        this.close()      }    }  }</script><style scoped></style>