<template>  <el-dialog          :title="title"          :modal-append-to-body="false"          :append-to-body="false"          :visible.sync="param.visible"  >    <div class=" c_hidden" style="height: 300px;">      <el-form label-position="left" inline class="demo-table-expand">        <el-form-item>          <el-input size="small" v-model="param.searchValue" placebolder="请输入编码或名称搜索"></el-input>        </el-form-item>        <el-form-item>          <el-button type="primary" size="small" @click="toSearch">搜索</el-button>        </el-form-item>      </el-form>      <el-table        class="c_h"        size="small"        height="250"        :highlight-current-row="true"        :data="param.detailData"        @row-click="projectTableClick"      >        <template v-for="(item, i) in param.detailList">          <el-table-column :key="i" :label="item.name" :prop="item.key"></el-table-column>        </template>      </el-table>    </div>    <span slot="footer" class="dialog-footer">        <el-button size="small" @click="close">取 消</el-button>        <el-button type="primary" size="small" @click="confirm">确 定</el-button>      </span>  </el-dialog></template><script>  import api from '../api'  export default {    name: "ksSelect",    props: {      title: {        type: String,        default: '客商'      }    },    data() {      return {        dataSource: {          resultList: [            // {  }          ]        },        api: api,        param: {          visible: false,          // -- 详情表格参数          detailList: [            { name: '客商编码', key: 'code', isUse: true },            { name: '客商名称', key: 'name', isUse: true },          ],          // -- 详情表格数据          detailData: [],          // -- 选中tree 下部门数据          selectTableData: {},          // 搜索框          searchValue: ''        },        queryData: {          "cbillid":"",          "result":"",          "vnote":""        }      }    },    methods: {      open(row) {        this.param.selectTableData = {}        this.getDataList()        this.param.visible = true      },      close() {        this.param.selectTableData = {}        this.param.visible = false      },      // 获取项目树 下部门      getDataList() {        const url = this.api.travelExpense        let data = {          action: 'cust',          data: {            value: this.param.searchValue          }        }        data.data = JSON.stringify(data.data)        this.$ajax.postform(url, data, res => {          if (res.success === 'Y') {            this.param.detailData = res.data || []          } else {            this.$message({ type: 'warn', message: res.message, duration: 1000 })          }        })      },      projectTableClick(row) {        this.param.selectTableData = row      },      confirm() {        if (!this.param.selectTableData.pk) {          return this.$message({ message: '请选择客商', duration: 1000 })        }        this.$emit('confirm', this.param.selectTableData)        this.close()      },      toSearch() {        if (!this.param.searchValue) {          return this.$message({ message: '请输入客商名称或编码', duration: 1000 })        }        this.getDataList()      }    }  }</script><style scoped></style>